.MODEL SMALL

.DATA 
    N DW 6
    R DW 2
    NCR DW 0
    MSG DB 'NCR = $'
    RESULT DB 5 DUP(?)

.CODE
START:
    MOV AX, @DATA
    MOV DS, AX
    MOV AX, N
    MOV BX, R
    CALL NCR_PROC

    LEA DX, MSG
    MOV AH, 09H
    INT 21H

    MOV AX, NCR
    LEA SI, RESULT
    CALL CONVERT_PRINT

    MOV AH, 4CH
    INT 21H

NCR_PROC PROC
    CMP AX, BX
    JZ N1
    CMP BX, 0
    JZ N1
    CMP BX, 1
    JZ N2
    MOV CX, AX
    DEC CX
    CMP CX, BX
    JZ N2
    PUSH AX
    PUSH BX
    DEC AX 
    CALL NCR_PROC
    POP BX 
    POP AX
    DEC AX 
    DEC BX
    CALL NCR_PROC
    JMP LAST

N1: ADD NCR, 1
    RET
N2: ADD NCR, AX
LAST: RET
NCR_PROC ENDP

CONVERT_PRINT PROC
    MOV CX, 0
    MOV BX, 10

REPEAT_DIV:
    XOR DX, DX
    DIV BX
    ADD DL, '0'
    DEC SI
    MOV [SI], DL
    INC CX
    CMP AX, 0
    JNZ REPEAT_DIV

    MOV AH, 02H
PRINT_LOOP:
    MOV DL, [SI]
    INT 21H
    INC SI
    LOOP PRINT_LOOP
    RET
CONVERT_PRINT ENDP

END START
